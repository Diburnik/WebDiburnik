(()=>{"use strict";var e={126:(e,t,r)=>{r.r(t),r.d(t,{default:()=>Ce});var n=r(5141),o=r(5861),i=r(9655),a=r(2333),l=r(919),d=r(6848),s=r(1232),u=r(7487),c=r(7014);const f={baseUrl:"https://diburnik.onrender.com",pictogramBaseURL:"https://api.arasaac.org/v1/pictograms/"};var h=r(5568),g=r(7441),p=r(9172),x=r(1127),m=r(1496),b=r(7962),y=function(){var e=(0,o.default)((function*(){return(yield p.default.fetch()).isConnected}));return function(){return e.apply(this,arguments)}}(),j=function(){var e=(0,o.default)((function*(e){try{var t=yield x.default.getItem("lastLogin"),r=JSON.parse(t),n=yield x.default.getItem("authToken");null!==n&&void 0!==n?"teacher"===r.userType?e.navigate("Profiles",{teacherId:r.teacherId,child:r.child}):"child"===r.userType&&e.navigate("Boards",{profileId:r.child[0]}):(console.log("first login"),e.navigate("Login"))}catch(o){console.error("Error checking last login:",o)}}));return function(t){return e.apply(this,arguments)}}(),w=function(){var e=(0,o.default)((function*(e){var t=yield s.launchImageLibraryAsync({mediaTypes:u.MediaTypeOptions.Images,allowsEditing:!0,quality:1e-4});t.canceled||e(t.assets[0])}));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=(0,o.default)((function*(e,t,r){if(console.log("newImage = ",t),t&&""!==t.uri){var n=t.uri,o=(yield h.manipulateAsync(n,[{resize:{width:200}}],{compress:.01,format:g.SaveFormat.PNG})).uri,i=o.split("/").pop(),a=`image/${i.split(".").pop()}`;console.log("Type of image is: ",a),e.append("image",{uri:o,name:i,type:a})}return yield c.default.post(`${f.baseUrl}/${r}/add`,e,{headers:{"Content-Type":"multipart/form-data"}})}));return function(t,r,n){return e.apply(this,arguments)}}(),C=function(){var e=(0,o.default)((function*(e,t){try{var r;return r=(r=yield x.default.getItem(`${e}_${t}`))?JSON.parse(r):null}catch(n){console.log(`Error fetching ${t} data:`,n)}}));return function(t,r){return e.apply(this,arguments)}}(),v=function(){var e=(0,o.default)((function*(e,t,r){var n,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;try{n=(yield c.default.get(`${f.baseUrl}/${r}`,{params:o})).data,yield x.default.setItem(`${e}_${t}`,JSON.stringify(n))}catch(i){console.log("Error fetching data from server or disk is full:",i)}return n}));return function(t,r,n){return e.apply(this,arguments)}}(),F=function(){var e=(0,o.default)((function*(e){try{var t=(yield c.default.get(`${f.pictogramBaseURL}he/search/${encodeURIComponent(e)}`)).data.map((function(e){return e._id}));return console.log("returning  pictogramsIds = ",t),t||[]}catch(r){return console.log("Error fetching pictograms:",r),[]}}));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=(0,o.default)((function*(e){if(""!==e.trim())try{var t=yield F(e);return t.length>0?t.map((function(e){return`${f.pictogramBaseURL}${e}`})):[]}catch(r){console.error("Error handling search:",r)}}));return function(t){return e.apply(this,arguments)}}(),T=(function(){var e=(0,o.default)((function*(e){try{var t=(yield c.default.get(`https://api.arasaac.org/v1/pictograms/he/${e}`)).data.tags.find((function(e){return["adjective","verb","noun"].includes(e)}))||"noun";return console.log("partOfSpeechTag = ",t),t}catch(r){console.error("Error finding part of speech:",r)}}))}(),function(){var e=(0,o.default)((function*(e){try{var t=(yield m.downloadAsync(e,`${m.documentDirectory}${Date.now()}.png`)).uri;yield m.readAsStringAsync(t,{encoding:b.EncodingType.Base64});return t}catch(r){throw console.error("Error downloading image:",r),r}}));return function(t){return e.apply(this,arguments)}}()),B=function(){var e=(0,o.default)((function*(e){if(e&&e.startsWith("file://"))try{yield m.deleteAsync(e),console.log("Local image deleted")}catch(t){console.error("Error deleting local image:",t)}}));return function(t){return e.apply(this,arguments)}}(),I=r(8620);const k=function(){var e=(0,d.useNavigation)();return(0,n.useEffect)((function(){var t=function(){var t=(0,o.default)((function*(){yield j(e)}));return function(){return t.apply(this,arguments)}}();t()}),[e]),(0,I.jsxs)(i.default,{style:{flex:1,justifyContent:"center",alignItems:"center"},children:[(0,I.jsx)(l.default,{size:"large",color:"#0000ff"}),(0,I.jsx)(a.default,{children:"Loading..."})]})};var V=r(885),P=r(4316),A=r(7534),O=r(1429),z=r(865),W=r(3142),E=O.default.create({container:{flex:1,justifyContent:"top",alignItems:"center",padding:10,backgroundColor:"#b8e7d3"},innerContainer:{flex:1,width:"95%"},bigTitle:{paddingTop:20,fontSize:38,color:"#646663",marginBottom:10},medTitle:{paddingTop:50,fontSize:30,color:"#646663",marginBottom:10},goBackButton:{position:"absolute",left:0,bottom:20,width:60,height:60},goBackText:{fontSize:18,fontWeight:"bold",color:"#333",marginTop:14,flexWrap:"wrap",textAlign:"left"},goBackContainer:{maxWidth:63},topLeft:{position:"absolute",top:100,left:0},topCenter:{justifyContent:"center",alignItems:"center"},bottomRight:{position:"absolute",bottom:0,right:0},bottomLeft:{position:"absolute",bottom:20,left:25},exitEditMode:{backgroundColor:"rgba(205, 229, 206, 0.7)",alignItems:"center",borderRadius:80,marginBottom:(0,W.RFValue)(65),marginRight:(0,W.RFValue)(15),borderWidth:(0,W.RFValue)(2),borderColor:"white",width:(0,W.RFValue)(85),height:(0,W.RFValue)(85)},buttonsText:{fontSize:18,fontWeight:"bold",color:"#333",textAlign:"right",flexWrap:"wrap",textAlign:"center"},infoText:{textAlign:"right",fontSize:20},inputField:{marginLeft:"auto",marginRight:"auto",width:"50%",height:40,borderColor:"#ccc",borderWidth:2,borderRadius:5,marginBottom:30,paddingHorizontal:10,backgroundColor:"#ffffff",textAlign:"right",fontSize:(0,W.RFValue)(14)},buttonsText:{fontSize:(0,W.RFValue)(13),fontWeight:"bold",color:"#333",textAlign:"right",flexWrap:"wrap",textAlign:"center"},saveButton:{backgroundColor:"#28A745",paddingVertical:10,marginLeft:"auto",marginRight:"auto",width:(0,W.RFPercentage)(16),borderRadius:5,flexDirection:"row",alignItems:"center",padding:10,marginTop:1},buttonText:{fontSize:20,fontWeight:"bold",color:"#2F2F2F",marginTop:14,textAlign:"right",flexWrap:"wrap",textAlign:"center"}}),L=r(2982),N=r(3028),$=r(7287),D=O.default.create({profileContainer:{borderRadius:80,overflow:"hidden",borderWidth:2,borderColor:"white"},profilePicture:{flex:1,width:null,height:null}});const M=function(e){var t=e.source,r=e.size;return(0,I.jsx)(i.default,{style:[D.profileContainer,{width:r,height:r}],children:(0,I.jsx)(z.default,{source:t,style:D.profilePicture,resizeMode:"cover"})})};var _=O.default.create({container:{flexDirection:"row",alignItems:"center",width:"100%",height:120,paddingHorizontal:5,marginTop:-10},logoContainer:{flex:1,alignItems:"flex-end"},logo:{width:(0,W.RFValue)(150),height:(0,W.RFValue)(100)},menuItem:{paddingVertical:10,alignSelf:"center"},menuContainer:{backgroundColor:"white",borderRadius:5,elevation:5,marginTop:5,paddingHorizontal:3,height:"95%"},menuItemText:{fontSize:16},profilePictureIcon:{marginRight:10}});const U=function(e){var t=e.showProfilePicture,l=void 0===t||t,s=e.showSettingsIcon,u=void 0!==s&&s,c=e.handleEdit,f=void 0===c?null:c,h=e.screenTouched,g=(0,n.useState)(""),p=(0,V.default)(g,2),m=p[0],b=p[1],y=(0,n.useState)(!1),j=(0,V.default)(y,2),w=j[0],R=j[1],C=(0,n.useState)(""),v=(0,V.default)(C,2),F=v[0],S=v[1],T=(0,n.useState)(!1),B=(0,V.default)(T,2),k=B[0],P=B[1],O="\u05d4\u05ea\u05e0\u05ea\u05e7",E="\u05d4\u05d9\u05db\u05e0\u05e1 \u05dc\u05de\u05e6\u05d1 \u05e2\u05e8\u05d9\u05db\u05d4",D=(0,n.useState)([`${O}`,`${E}`]),U=(0,V.default)(D,2),H=U[0],J=U[1],Y="\u05e9\u05e0\u05d4 \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc",G=(0,d.useNavigation)();(0,n.useEffect)((function(){var e=function(){var e=(0,o.default)((function*(){try{if(l){var e=yield x.default.getItem("profilePicture"),t=JSON.parse(e);b(t||"");var r=yield x.default.getItem("lastLogin"),n=JSON.parse(r);if(S(n),"teacher"===n.userType){var o=new Set([].concat((0,L.default)(H),[Y]));J(Array.from(o))}}}catch(i){console.log("Error fetching profile picture:",i)}q()}));return function(){return e.apply(this,arguments)}}();e()}),[l,h]);var K=function(){var e=(0,o.default)((function*(e){if(e===`${O}`){var t=yield x.default.getAllKeys();yield x.default.multiRemove(t),G.navigate("Login")}e===`${Y}`&&"teacher"===F.userType&&G.navigate("Profiles",{teacherId:F.teacherId,child:F.child}),e===`${E}`&&f(),R(!1)}));return function(t){return e.apply(this,arguments)}}(),q=function(){R(!1),P(!1)};return(0,I.jsx)($.default,{onPress:q,children:(0,I.jsxs)(i.default,{style:_.container,children:[l&&(0,I.jsx)(M,{source:{uri:`data:image/jpeg;base64,${m}`},size:(0,W.RFValue)(50),style:_.profilePictureIcon}),u&&(0,I.jsx)(A.default,{onPress:function(){R(!w),P(!k)},children:(0,I.jsx)(z.default,{source:r(2877),style:{width:(0,W.RFValue)(23),height:(0,W.RFValue)(23),marginHorizontal:20}})}),w&&(0,I.jsx)(i.default,{style:_.menuContainer,children:(0,I.jsx)(N.default,{data:H.slice().reverse(),renderItem:function(e){var t=e.item;return(0,I.jsx)(A.default,{style:_.menuItem,onPress:function(){return K(t)},children:(0,I.jsx)(a.default,{style:_.menuItemText,children:t})})},keyExtractor:function(e){return e}})}),(0,I.jsx)(i.default,{style:_.logoContainer,children:(0,I.jsx)(z.default,{source:r(458),style:_.logo,resizeMode:"contain"})})]})})};var H=O.default.create({bigTitle:{fontSize:72,fontWeight:"bold",marginBottom:50,color:"#fcc1ae"},inputUsername:{width:"50%",height:40,borderColor:"#ccc",borderWidth:2,borderRadius:5,marginBottom:10,paddingHorizontal:10,backgroundColor:"#ffffff",textAlign:"left"},inputPassword:{width:"50%",height:40,borderColor:"#ccc",borderWidth:2,borderRadius:5,marginBottom:15,paddingHorizontal:10,backgroundColor:"#ffffff",textAlign:"left"},button:{backgroundColor:"#38BAD7",paddingVertical:10,paddingHorizontal:20,borderRadius:5,width:"20%",marginTop:(0,W.RFValue)(10)},buttonText:{color:"#fff",fontSize:18,fontWeight:"bold",textAlign:"center"},errorMessage:{color:"red",marginTop:10,textAlign:"center"},logoImg:{width:800,height:120,marginBottom:10},fixedImageLeft:{position:"absolute",left:0,bottom:0,width:120,height:90},fixedImageRight:{position:"absolute",right:0,bottom:0,width:200,height:200}});const J=function(){var e=(0,n.useState)(""),t=(0,V.default)(e,2),l=t[0],s=t[1],u=(0,n.useState)(""),h=(0,V.default)(u,2),g=h[0],p=h[1],m=(0,n.useState)(""),b=(0,V.default)(m,2),j=b[0],w=b[1],R=(0,n.useState)(!1),C=(0,V.default)(R,2),v=C[0],F=C[1],S=(0,d.useNavigation)();(0,n.useEffect)((function(){y().then((function(e){F(e)}))}),[v]);var T=function(){var e=(0,o.default)((function*(){y().then((function(e){F(e)}));var e={username:l,password:g};try{if(v){var t=(yield c.default.post(`${f.baseUrl}/login`,e)).data.token;yield x.default.setItem("authToken",t),console.log("storing the auth token: authToken = ",t);var r=yield c.default.get(`${f.baseUrl}/user`,{params:{username:e.username}}),n={userType:r.data.user.userType,child:r.data.user.child,teacherId:null};if("teacher"===n.userType){var o=yield c.default.get(`${f.baseUrl}/findTeacherId?username=${l}`);200===o.status&&(n.teacherId=o.data.teacherId)}else{var i=r.data.profilePicture;yield x.default.setItem("profilePicture",JSON.stringify(i))}yield x.default.setItem("lastLogin",JSON.stringify(n)),"teacher"===n.userType?S.navigate("Profiles",{teacherId:n.teacherId}):"child"===n.userType&&S.navigate("Boards",{profileId:n.child[0]}),s(""),p("")}else console.log("Offline")}catch(a){w("\u05e4\u05e8\u05d8\u05d9 \u05d4\u05ea\u05d7\u05d1\u05e8\u05d5\u05ea \u05dc\u05d0 \u05e0\u05db\u05d5\u05e0\u05d9\u05dd"),console.log("Error during login:",a),setTimeout((function(){w("")}),3e3)}}));return function(){return e.apply(this,arguments)}}();return(0,I.jsxs)(i.default,{style:E.container,children:[(0,I.jsx)(U,{showProfilePicture:!1}),(0,I.jsx)(z.default,{source:r(9380),style:H.logoImg,resizeMode:"contain"}),(0,I.jsx)(P.default,{style:H.inputUsername,placeholder:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",value:l,onChangeText:function(e){return s(e)},autoCapitalize:"none"}),(0,I.jsx)(P.default,{style:H.inputPassword,placeholder:"\u05e1\u05d9\u05e1\u05de\u05d4",value:g,onChangeText:function(e){return p(e)},secureTextEntry:!0}),(0,I.jsx)(A.default,{style:H.button,onPress:T,children:(0,I.jsx)(a.default,{style:H.buttonText,children:"\u05d4\u05ea\u05d7\u05d1\u05e8"})}),j?(0,I.jsx)(a.default,{style:H.errorMessage,children:j}):null,(0,I.jsx)(A.default,{onPress:function(){return S.navigate("Register")},style:{marginTop:15},children:(0,I.jsxs)(a.default,{style:{textAlign:"center",color:"gray",fontSize:16},children:["\u05e2\u05d3\u05d9\u05d9\u05df \u05d0\u05d9\u05df \u05dc\u05da \u05de\u05e9\u05ea\u05de\u05e9?"," ",(0,I.jsx)(a.default,{style:{color:"blue"},children:"\u05d4\u05d9\u05e8\u05e9\u05dd \u05e2\u05db\u05e9\u05d9\u05d5"})]})}),(0,I.jsx)(z.default,{source:r(237),style:H.fixedImageLeft}),(0,I.jsx)(z.default,{source:r(9284),style:H.fixedImageRight})]})};var Y=r(5268),G=r(9484),K=O.default.create({container:{flex:1,justifyContent:"top",alignItems:"center",padding:40,backgroundColor:"#b8e7d3"},bigTitle:{fontSize:38,color:"#646663",marginBottom:10,textAlign:"center"},inputField:{marginLeft:"auto",marginRight:"auto",width:"50%",height:40,borderColor:"#ccc",borderWidth:2,borderRadius:5,marginBottom:10,paddingHorizontal:10,backgroundColor:"#ffffff"},button:{backgroundColor:"#007BFF",paddingVertical:10,marginLeft:"auto",marginRight:"auto",width:"20%",borderRadius:5,marginTop:(0,W.RFValue)(18)},buttonText:{color:"#fff",fontSize:18,fontWeight:"bold",textAlign:"center"},registrationMessage:{color:"green",marginTop:10,textAlign:"center"},checkboxContainer:{flexDirection:"row",alignItems:"center",width:"50%",marginLeft:"auto",marginRight:"auto",justifyContent:"center"},fixedImageLeft:{position:"absolute",left:0,bottom:0,width:120,height:90},fixedImageRight:{position:"absolute",right:0,bottom:0,width:200,height:200},cancelButton:{backgroundColor:"red",marginTop:10,paddingVertical:10,marginLeft:"auto",marginRight:"auto",width:"20%",borderRadius:5},cancelButtonText:{color:"#fff",fontSize:18,fontWeight:"bold",textAlign:"center"},registrationLogo:{width:120,height:170,resizeMode:"cover",position:"absolute",top:"70%",left:"10%",zIndex:1},scrollContainer:{flexGrow:1,paddingBottom:20},selectProfileImageText:{color:"blue",textAlign:"center",fontSize:16,marginTop:10},uploadedImageContainer:{marginLeft:"auto",marginRight:"auto",marginBottom:10,width:100,height:100}});const q=function(){var e=(0,n.useState)(""),t=(0,V.default)(e,2),l=t[0],s=t[1],u=(0,n.useState)(""),c=(0,V.default)(u,2),f=c[0],h=c[1],g=(0,n.useState)(""),p=(0,V.default)(g,2),x=p[0],m=p[1],b=(0,n.useState)(""),y=(0,V.default)(b,2),j=y[0],C=y[1],v=(0,n.useState)(""),F=(0,V.default)(v,2),S=F[0],T=F[1],B=(0,n.useState)(""),k=(0,V.default)(B,2),O=k[0],L=k[1],N=(0,n.useState)(""),$=(0,V.default)(N,2),D=$[0],M=$[1],_=(0,n.useState)(""),H=(0,V.default)(_,2),J=H[0],q=H[1],Q=(0,d.useNavigation)(),X=function(){var e=(0,o.default)((function*(){w(q)}));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=(0,o.default)((function*(){if(l&&f&&x&&j){if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(x)){var e=new FormData;e.append("username",l),e.append("password",f),e.append("email",x),e.append("userType",j),"child"===j?(e.append("firstName",O),e.append("lastName",D)):(e.append("firstName",""),e.append("lastName",""),q("")),R(e,J,"users").then((function(e){200===e.status?(T("\u05e8\u05d9\u05e9\u05d5\u05dd \u05d1\u05d5\u05e6\u05e2 \u05d1\u05d4\u05e6\u05dc\u05d7\u05d4"),s(""),h(""),m(""),C(""),L(""),M("")):T("\u05ea\u05e7\u05dc\u05d4 \u05d1\u05e8\u05d9\u05e9\u05d5\u05dd")})).catch((function(e){e.response&&400===e.response.status?T(e.response.data.message):(console.error("Error during registration:",e),T("\u05ea\u05e7\u05dc\u05d4 \u05d1\u05e8\u05d9\u05e9\u05d5\u05dd"))})),setTimeout((function(){return T("")}),3e3)}else T("\u05db\u05ea\u05d5\u05d1\u05ea \u05de\u05d9\u05d9\u05dc \u05dc\u05d0 \u05d7\u05d5\u05e7\u05d9\u05ea")}else T("\u05d9\u05e9 \u05dc\u05de\u05dc\u05d0 \u05d0\u05ea \u05db\u05dc \u05d4\u05e9\u05d3\u05d5\u05ea")}));return function(){return e.apply(this,arguments)}}();return(0,I.jsxs)(Y.default,{contentContainerStyle:K.scrollContainer,children:[(0,I.jsx)(U,{showProfilePicture:!1}),(0,I.jsx)(a.default,{style:K.bigTitle,children:"\u05d4\u05e8\u05e9\u05de\u05d4"}),(0,I.jsx)(i.default,{style:{paddingRight:(0,W.RFValue)(170)},children:(0,I.jsx)(z.default,{source:r(7299),style:K.registrationLogo})}),(0,I.jsx)(P.default,{style:[K.inputField,{textAlign:"right"}],placeholder:"\u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",value:l,onChangeText:function(e){return s(e)},autoCapitalize:"none"}),(0,I.jsx)(P.default,{style:[K.inputField,{textAlign:"right"}],placeholder:"\u05e1\u05d9\u05e1\u05de\u05d4",value:f,onChangeText:function(e){return h(e)},secureTextEntry:!0}),(0,I.jsx)(P.default,{style:[K.inputField,{textAlign:"right"}],placeholder:"\u05d0\u05d9\u05de\u05d9\u05d9\u05dc",value:x,onChangeText:function(e){return m(e)},autoCapitalize:"none"}),(0,I.jsx)(G.CheckBox,{title:"\u05de\u05d5\u05e8\u05d4",checked:"teacher"===j,onPress:function(){return C("teacher")},containerStyle:K.checkboxContainer}),(0,I.jsx)(G.CheckBox,{title:"\u05d9\u05dc\u05d3",checked:"child"===j,onPress:function(){return C("child")},containerStyle:K.checkboxContainer}),"child"===j&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(P.default,{style:[K.inputField,{textAlign:"right"}],placeholder:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9",value:O,onChangeText:function(e){return L(e)}}),(0,I.jsx)(P.default,{style:[K.inputField,{textAlign:"right"}],placeholder:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4",value:D,onChangeText:function(e){return M(e)}}),(0,I.jsx)(A.default,{onPress:X,children:(0,I.jsx)(a.default,{style:[K.selectProfileImageText,{color:"blue"}],children:"\u05d1\u05d7\u05e8 \u05ea\u05de\u05d5\u05e0\u05ea \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc"})}),J&&(0,I.jsx)(z.default,{source:{uri:J.uri},style:K.uploadedImageContainer})]}),(0,I.jsx)(i.default,{children:(0,I.jsx)(A.default,{style:K.button,onPress:Z,children:(0,I.jsx)(a.default,{style:K.buttonText,children:"\u05d4\u05d9\u05e8\u05e9\u05dd"})})}),(0,I.jsx)(i.default,{style:[E.bottomLeft,{bottom:(0,W.RFValue)(50)}],children:(0,I.jsxs)(A.default,{onPress:function(){Q.goBack(),Q.navigate("Login"),s(""),h(""),m(""),C(""),L(""),M(""),q(""),T("")},children:[(0,I.jsx)(a.default,{style:E.buttonsText,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,I.jsx)(z.default,{source:r(1612),style:{width:(0,W.RFValue)(60),height:(0,W.RFValue)(60)}})]})}),S?(0,I.jsx)(a.default,{style:K.registrationMessage,children:S}):null,(0,I.jsx)(z.default,{source:r(237),style:K.fixedImageLeft}),(0,I.jsx)(z.default,{source:r(9284),style:K.fixedImageRight})]})};var Q=r(4942),X=r(6429),Z=r(6501),ee=r(4669);function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){(0,Q.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ne=O.default.create({container:{flex:1,justifyContent:"top",padding:10,backgroundColor:"#b8e7d3"},title:{fontSize:20,fontWeight:"bold",marginBottom:10},boardContainer:{flex:1,flexDirection:"row-reverse",flexWrap:"wrap"},board:{width:(0,W.RFValue)(100),height:(0,W.RFValue)(100),backgroundColor:"lightblue",margin:(0,W.RFValue)(10),borderRadius:10,borderColor:"#B9C4D1",marginBottom:(0,W.RFValue)(35),marginRight:(0,W.RFValue)(10),borderWidth:(0,W.RFValue)(3)},buttomOfBoard:{position:"absolute",bottom:0,width:"100%",height:(0,W.RFPercentage)(3),backgroundColor:"#6EC5F8",borderBottomLeftRadius:8,borderBottomRightRadius:8},categoryText:{fontSize:(0,W.RFValue)(15),marginTop:"auto",textAlign:"center"},addButton:{position:"absolute",bottom:20,right:20,width:60,height:60,backgroundColor:"blue",justifyContent:"center",alignItems:"center",borderRadius:30},addButtonText:{fontSize:40,color:"white"},modalContainer:{backgroundColor:"rgba(254, 229, 206,1)",flex:1,alignItems:"center"},input:{marginBottom:10,padding:15,borderWidth:2,borderColor:"#3498db",borderRadius:8,fontSize:16,color:"#2c3e50"},boardImage:{position:"absolute",width:"100%",height:"85%",borderTopLeftRadius:(0,W.RFValue)(8),borderTopRightRadius:(0,W.RFValue)(8)},boardImagePreview:{width:(0,W.RFValue)(106),height:(0,W.RFValue)(108),borderRadius:(0,W.RFValue)(15),marginTop:(0,W.RFValue)(24.5),bottom:(0,W.RFValue)(25)},selectImageText:{color:"blue",fontSize:16,marginBottom:10},editButton:{position:"absolute",bottom:20,right:100,width:60,height:60,backgroundColor:"#5EF18A",justifyContent:"center",alignItems:"center",borderRadius:30},editButtonText:{fontSize:30,color:"white"},deleteButton:{position:"absolute",bottom:20,right:180,width:60,height:60,backgroundColor:"red",justifyContent:"center",alignItems:"center",borderRadius:30},goBackButton:{position:"absolute",left:0,bottom:20,width:60,height:60},deleteButtonText:{fontSize:20,color:"white"},checkboxContainer:{position:"absolute",top:2,right:-26,width:30,height:30,marginRight:10,alignItems:"center",justifyContent:"center",zIndex:1},checkbox:{width:20,height:20,borderRadius:5,borderWidth:1,borderColor:"black"},checkedCheckbox:{backgroundColor:"blue",borderColor:"blue"},disabledButton:{opacity:.5,backgroundColor:"#CCCCCC"},scrollContent:{paddingBottom:100},goBackText:{fontSize:18,fontWeight:"bold",color:"#333",marginTop:14,flexWrap:"wrap",textAlign:"left"},blankBoardText:{fontSize:(0,W.RFValue)(50),color:"white",marginTop:15,fontWeight:"bold"},boardName:{fontSize:18,fontWeight:"bold",color:"#333",marginTop:14,textAlign:"right",flexWrap:"wrap",textAlign:"center"},blankBoard:{backgroundColor:"lightgray",alignItems:"center",borderRadius:10,marginBottom:(0,W.RFValue)(55),marginLeft:(0,W.RFValue)(8),marginTop:(0,W.RFValue)(11),borderWidth:(0,W.RFValue)(2),borderColor:"white",width:(0,W.RFValue)(95),height:(0,W.RFValue)(95)},boardsContainer:{flex:1,flexDirection:"row-reverse",flexWrap:"wrap"},innerContainer:{flex:1,width:"95%"},deletedBoardBtn:{backgroundColor:"lightgray",alignItems:"center",borderRadius:80,marginBottom:(0,W.RFValue)(65),marginRight:(0,W.RFValue)(15),borderWidth:(0,W.RFValue)(2),borderColor:"white",width:(0,W.RFValue)(85),height:(0,W.RFValue)(85)},deleteBoardText:{fontSize:(0,W.RFValue)(50),color:"white",marginTop:15,fontWeight:"bold"},notFoundText:{fontWeight:"bold",color:"#A8A5B6",fontSize:34,marginBottom:60},editBoardItem:{alignItems:"center",borderRadius:30,borderWidth:(0,W.RFValue)(4),borderColor:"#FBB8A5",width:(0,W.RFValue)(112),height:(0,W.RFValue)(115)},blankBoard:{backgroundColor:"lightgray",alignItems:"center",borderRadius:10,borderWidth:(0,W.RFValue)(2),borderColor:"white",width:(0,W.RFValue)(100),height:(0,W.RFValue)(100),margin:(0,W.RFValue)(10),alignSelf:"flex-start"},buttonsText:{fontSize:(0,W.RFValue)(13),fontWeight:"bold",color:"#333",textAlign:"right",flexWrap:"wrap",textAlign:"center"},editBoardPictureContainer:{flexDirection:"row",alignItems:"center"},topLeft:{position:"absolute",top:100,left:0},bottomRight:{position:"absolute",bottom:0,right:0},bottomLeft:{position:"absolute",bottom:20,left:25},halfCircle:{position:"absolute",bottom:(0,W.RFValue)(2.9),right:(0,W.RFValue)(-52),justifyContent:"center",alignItems:"center",width:(0,W.RFValue)(105),height:(0,W.RFValue)(36),backgroundColor:"rgba(0, 0, 0, 0.5)",overflow:"hidden",borderBottomLeftRadius:(0,W.RFValue)(17),borderBottomRightRadius:(0,W.RFValue)(17)},saveButton:{backgroundColor:"#28A745",paddingVertical:10,marginLeft:"auto",marginRight:"auto",width:(0,W.RFPercentage)(16),borderRadius:5,flexDirection:"row",alignItems:"center",padding:10,marginTop:(0,W.RFValue)(30)},inputField:{marginLeft:"auto",marginRight:"auto",width:"50%",height:40,borderColor:"#ccc",borderWidth:2,borderRadius:5,marginBottom:30,paddingHorizontal:10,backgroundColor:"#ffffff",textAlign:"right",fontSize:21},exitEditMode:{backgroundColor:"rgba(205, 229, 206, 0.7)",alignItems:"center",borderRadius:80,borderWidth:(0,W.RFValue)(2),marginHorizontal:(0,W.RFValue)(15),borderColor:"white",width:(0,W.RFValue)(85),height:(0,W.RFValue)(85),marginTop:(0,W.RFValue)(30)}});const oe=function(e){var t=e.route.params.profileId,s=(0,n.useState)([]),u=(0,V.default)(s,2),h=u[0],g=u[1],p=(0,n.useState)(!1),m=(0,V.default)(p,2),b=m[0],j=m[1],F=(0,n.useState)(""),S=(0,V.default)(F,2),T=S[0],B=S[1],k=(0,n.useState)(""),O=(0,V.default)(k,2),N=O[0],D=O[1],M=(0,d.useNavigation)(),_=(0,n.useState)(!1),H=(0,V.default)(_,2),J=H[0],Y=H[1],G=(0,n.useState)([]),K=(0,V.default)(G,2),q=(K[0],K[1]),Q=(0,n.useState)(!0),te=(0,V.default)(Q,2),oe=te[0],ie=te[1],ae=(0,n.useState)(!1),le=(0,V.default)(ae,2),de=le[0],se=le[1],ue=(0,n.useState)(""),ce=(0,V.default)(ue,2),fe=ce[0],he=ce[1],ge=(0,n.useState)(!1),pe=(0,V.default)(ge,2),xe=pe[0],me=pe[1],be=(0,n.useState)(!1),ye=(0,V.default)(be,2),je=ye[0],we=ye[1],Re=(0,n.useState)(""),Ce=(0,V.default)(Re,2),ve=Ce[0],Fe=Ce[1],Se=(0,n.useState)(""),Te=(0,V.default)(Se,2),Be=Te[0],Ie=Te[1];(0,n.useEffect)((function(){(0,o.default)((function*(){try{yield ke()}catch(e){console.log("Error fetching data for profile:",e)}}))()}),[t,de]);var ke=function(){var e=(0,o.default)((function*(){try{var e,r=yield C("offlineBoards",`${t}`);r&&(ie(!1),g(r.boards)),y().then((function(e){se(e)})),de&&(e=yield v("offlineBoards",`${t}`,`children/${t}`)),e&&(ie(!1),g(e.boards))}catch(n){console.log("Error fetching data for profile:",n)}}));return function(){return e.apply(this,arguments)}}(),Ve=function(){var e=(0,o.default)((function*(e){if(J){var t=h.map((function(t){return t._id===e?re(re({},t),{},{isSelected:!t.isSelected}):t}));g(t);var r=t.filter((function(e){return e.isSelected}));q(r)}else try{var n=`offlineNavigation_${e}`,o=yield x.default.getItem(n);if(o){var i=JSON.parse(o),a=i.boardId,l=i.words;M.navigate("Words",{boardId:a,words:l})}else if(de){var d=(yield c.default.get(`${f.baseUrl}/boards/${e}`)).data.words,s=`offlineNavigation_${e}`;yield x.default.setItem(s,JSON.stringify({boardId:e,words:d})),M.navigate("Words",{boardId:e,words:d})}Ne()}catch(u){console.log("Error fetching updated words:",u)}}));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,o.default)((function*(){w(D)}));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,o.default)((function*(){if(""!==T.trim())try{var e=new FormData;e.append("profileId",t),e.append("category",T);var r=(yield R(e,N,"boards")).data;g([].concat((0,L.default)(h),[r])),B(""),D(""),j(!1)}catch(n){console.log("Error creating board:",n)}}));return function(){return e.apply(this,arguments)}}(),Oe=function(){Y(!J),he(J?"#b8e7d3":"#fee5ce"),q([]);var e=h.map((function(e){return re(re({},e),{},{isSelected:!1})}));g(e)},ze=function(){var e=(0,o.default)((function*(e){try{console.log("boardIds to delete:",e);var r=yield c.default.delete(`${f.baseUrl}/deleteBoards`,{data:{boardsIds:e}});if(200===r.status){var n=h.filter((function(t){return!e.includes(t._id)}));g(n),q([]),yield x.default.setItem(`offlineBoards_${t}`,JSON.stringify(n))}else console.error("Error deleting boards. Unexpected response:",r.status)}catch(o){console.error("Error deleting boards:",o)}}));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=(0,o.default)((function*(){var e=new FormData;e.append("_id",ve._id),e.append("category",ve.category);var t=yield R(e,Be,"board/update");200===t.status?(console.log("Board updated successfully"),ke(),Ee()):console.error("Error saving profile changes",t.status)}));return function(){return e.apply(this,arguments)}}(),Ee=function(){we(!je),Ie("")},Le=function(){var e=(0,o.default)((function*(){yield w(Ie),console.log("selectedBoard = ",ve)}));return function(){return e.apply(this,arguments)}}(),Ne=function(){me(!xe)};return(0,I.jsx)($.default,{onPress:Ne,children:(0,I.jsx)(Z.GestureHandlerRootView,{style:{flexGrow:1},children:(0,I.jsxs)(i.default,{style:[ne.container,{backgroundColor:fe}],children:[(0,I.jsx)(U,{showProfilePicture:!0,showSettingsIcon:!0,handleEdit:Oe,screenTouched:xe}),J&&(0,I.jsx)(i.default,{style:E.topLeft,children:(0,I.jsx)(z.default,{source:r(6667),style:{width:200,height:200}})}),J&&(0,I.jsx)(i.default,{style:E.bottomRight,children:(0,I.jsx)(z.default,{source:r(3107),style:{width:300,height:300}})}),J&&(0,I.jsx)(i.default,{style:E.topCenter,children:(0,I.jsx)(z.default,{source:r(4681),style:{width:100,height:100}})}),(0,I.jsx)(a.default,{style:[E.bigTitle,{textAlign:"center"}],children:J?"\u05e2\u05e8\u05d5\u05da \u05dc\u05d5\u05d7\u05d5\u05ea \u05ea\u05e7\u05e9\u05d5\u05e8\u05ea":"\u05dc\u05d5\u05d7\u05d5\u05ea \u05d4\u05ea\u05e7\u05e9\u05d5\u05e8\u05ea \u05e9\u05dc\u05d9"}),(0,I.jsx)(Z.ScrollView,{contentContainerStyle:ne.scrollContent,children:(0,I.jsx)(i.default,{style:ne.innerContainer,children:(0,I.jsxs)(i.default,{style:ne.boardsContainer,children:[(0,I.jsxs)(i.default,{style:{alignItems:"flex-start"},children:[(0,I.jsx)(i.default,{children:J&&(0,I.jsxs)(A.default,{style:[ne.blankBoard,!de&&ne.disabledButton],onPress:function(){return de&&j(!0)},children:[(0,I.jsx)(a.default,{style:ne.blankBoardText,children:"+"}),(0,I.jsx)(a.default,{style:[E.buttonText,{marginTop:(0,W.RFValue)(30)}],children:"\u05d4\u05d5\u05e1\u05e3 \u05dc\u05d5\u05d7 \u05ea\u05e7\u05e9\u05d5\u05e8\u05ea \u05d7\u05d3\u05e9"})]})}),(0,I.jsx)(X.default,{visible:je,animationType:"slide",transparent:!0,children:(0,I.jsxs)(i.default,{style:ne.modalContainer,children:[(0,I.jsx)(a.default,{style:E.bigTitle,children:"\u05e2\u05e8\u05d5\u05da \u05dc\u05d5\u05d7"}),(0,I.jsx)(i.default,{style:ne.topLeft,children:(0,I.jsx)(z.default,{source:r(6667),style:{width:200,height:200}})}),(0,I.jsx)(i.default,{style:ne.bottomRight,children:(0,I.jsx)(z.default,{source:r(3107),style:{width:300,height:300}})}),(0,I.jsx)(a.default,{style:E.infoText,children:"\u05e9\u05dd \u05dc\u05d5\u05d7 \u05d4\u05ea\u05e7\u05e9\u05d5\u05e8\u05ea:"}),(0,I.jsx)(P.default,{style:[E.inputField],value:ve.category,onChangeText:function(e){return function(e){Fe((function(t){return re(re({},t),{},{category:e})}))}(e)}}),(0,I.jsx)(a.default,{style:E.infoText,children:"\u05d1\u05d7\u05e8 \u05ea\u05de\u05d5\u05e0\u05d4 \u05e2\u05d1\u05d5\u05e8 \u05d4\u05dc\u05d5\u05d7:"}),(0,I.jsx)(i.default,{style:ne.editBoardPictureContainer,children:(0,I.jsx)(i.default,{style:ne.editBoardItem,children:ve.image?(0,I.jsx)(z.default,{source:{uri:(null==Be?void 0:Be.uri)||`data:${ve.image.contentType};base64,${ee.Buffer.from(ve.image.data).toString("base64")}`},style:{width:"100%",height:"100%",borderRadius:10}}):null})}),(0,I.jsx)(i.default,{children:(0,I.jsx)(A.default,{onPress:Le,children:(0,I.jsx)(i.default,{style:ne.halfCircle,children:(0,I.jsx)(z.default,{source:r(7968),style:{width:25,height:35}})})})}),(0,I.jsx)(i.default,{style:{flexDirection:"row",alignItems:"center"},children:(0,I.jsxs)(A.default,{onPress:We,style:[ne.saveButton],children:[(0,I.jsx)(z.default,{source:r(9369),style:{width:35,height:35,marginRight:25}}),(0,I.jsx)(a.default,{style:ne.buttonsText,children:"\u05e9\u05de\u05d5\u05e8"})]})}),(0,I.jsx)(i.default,{style:E.bottomLeft,children:(0,I.jsxs)(A.default,{onPress:function(){return Ee()},children:[(0,I.jsx)(a.default,{style:E.buttonsText,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,I.jsx)(z.default,{source:r(1612),style:{width:(0,W.RFValue)(60),height:(0,W.RFValue)(60)}})]})})]})}),(0,I.jsx)(i.default,{children:J&&(0,I.jsxs)(A.default,{style:[ne.exitEditMode],onPress:function(){Y(!1),Oe()},children:[(0,I.jsx)(z.default,{source:r(4391),style:{width:(0,W.RFValue)(45),height:(0,W.RFValue)(45),marginTop:(0,W.RFValue)(20),marginLeft:15}}),(0,I.jsx)(a.default,{style:[E.buttonText,{marginTop:(0,W.RFValue)(20)}],children:"\u05d9\u05e6\u05d9\u05d0\u05d4 \u05de\u05de\u05e6\u05d1 \u05e2\u05e8\u05d9\u05db\u05d4"})]})})]}),oe?(0,I.jsx)(l.default,{size:"large",color:"#0000ff"}):(0,I.jsx)(i.default,{style:ne.boardContainer,children:0!==(null==h?void 0:h.length)||J?null==h?void 0:h.map((function(e){return(0,I.jsxs)(A.default,{style:[ne.board,J&&e.isSelected&&ne.selectedBoard],onPress:function(){return Ve(e._id)},children:[e.image&&(0,I.jsx)(z.default,{source:{uri:`data:${e.image.contentType};base64,${ee.Buffer.from(e.image.data).toString("base64")}`},style:ne.boardImage}),J&&(0,I.jsx)(i.default,{style:ne.checkboxContainer,children:(0,I.jsx)(i.default,{style:{transform:[{scale:.32}]},children:(0,I.jsx)(A.default,{style:[ne.deletedBoardBtn,{borderWidth:8}],onPress:function(){return ze(e._id)},children:(0,I.jsx)(a.default,{style:ne.deleteBoardText,children:"x"})})})}),J&&(0,I.jsx)(i.default,{style:[ne.checkboxContainer,{top:(0,W.RFValue)(85),right:(0,W.RFValue)(82),width:20,height:20,marginRight:10}],children:(0,I.jsx)(i.default,{style:{transform:[{scale:.3}]},children:(0,I.jsx)(A.default,{style:[ne.blankBoard,{borderWidth:8,borderRadius:80}],onPress:function(){!function(e){var t=h.find((function(t){return t._id===e}));Fe(t),Ee()}(e._id)},children:(0,I.jsx)(z.default,{source:r(7968),style:{width:"70%",height:"100%",resizeMode:"contain"}})},e._id)})}),(0,I.jsx)(i.default,{style:ne.buttomOfBoard,children:(0,I.jsx)(a.default,{style:ne.categoryText,children:e.category})})]},e._id)})):(0,I.jsxs)(i.default,{style:{flex:.96,alignItems:"center",justifyContent:"center",paddingVertical:150},children:[(0,I.jsx)(a.default,{style:ne.notFoundText,children:"\u05dc\u05d0 \u05e7\u05d9\u05d9\u05de\u05d9\u05dd \u05dc\u05d5\u05d7\u05d5\u05ea \u05ea\u05e7\u05e9\u05d5\u05e8\u05ea \u05e2\u05d1\u05d5\u05e8 \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc \u05d6\u05d4"}),(0,I.jsx)(z.default,{source:r(1410),style:{width:200,height:222}})]})})]})})}),(0,I.jsx)(i.default,{style:E.goBackContainer,children:(0,I.jsxs)(A.default,{onPress:function(){M.goBack()},children:[(0,I.jsx)(z.default,{source:r(1612),style:E.goBackButton}),(0,I.jsx)(a.default,{style:E.goBackText,children:"\u05d7\u05d6\u05d5\u05e8"})]})}),(0,I.jsx)(X.default,{visible:b,animationType:"slide",transparent:!0,children:(0,I.jsxs)(i.default,{style:ne.modalContainer,children:[(0,I.jsx)(a.default,{style:E.bigTitle,children:"\u05d4\u05d5\u05e1\u05e3 \u05dc\u05d5\u05d7 \u05ea\u05e7\u05e9\u05d5\u05e8\u05ea \u05d7\u05d3\u05e9"}),(0,I.jsx)(i.default,{style:E.topLeft,children:(0,I.jsx)(z.default,{source:r(6667),style:{width:200,height:200}})}),(0,I.jsx)(i.default,{style:E.bottomRight,children:(0,I.jsx)(z.default,{source:r(3107),style:{width:300,height:300}})}),(0,I.jsx)(a.default,{style:E.infoText,children:"\u05e9\u05dd \u05dc\u05d5\u05d7 \u05d4\u05ea\u05e7\u05e9\u05d5\u05e8\u05ea:"}),(0,I.jsx)(P.default,{style:E.inputField,value:T,onChangeText:B,placeholder:" \u05d4\u05db\u05e0\u05e1 \u05e9\u05dd \u05dc\u05d5\u05d7"}),(0,I.jsx)(a.default,{style:E.infoText,children:"\u05d1\u05d7\u05e8 \u05ea\u05de\u05d5\u05e0\u05d4 \u05e2\u05d1\u05d5\u05e8 \u05d4\u05dc\u05d5\u05d7:"}),(0,I.jsx)(i.default,{style:ne.editBoardItem,children:N&&(0,I.jsx)(z.default,{source:{uri:N.uri},style:ne.boardImagePreview})}),(0,I.jsx)(i.default,{children:(0,I.jsx)(A.default,{onPress:Pe,children:(0,I.jsx)(i.default,{style:ne.halfCircle,children:(0,I.jsx)(z.default,{source:r(7968),style:{width:25,height:35}})})})}),(0,I.jsx)(i.default,{style:{flexDirection:"row",alignItems:"center"},children:(0,I.jsxs)(A.default,{onPress:Ae,style:[ne.saveButton],children:[(0,I.jsx)(z.default,{source:r(9369),style:{width:35,height:35,marginRight:25}}),(0,I.jsx)(a.default,{style:ne.buttonsText,children:"\u05e9\u05de\u05d5\u05e8"})]})}),(0,I.jsx)(i.default,{style:E.bottomLeft,children:(0,I.jsxs)(A.default,{onPress:function(){j(!1),B(""),D("")},children:[(0,I.jsx)(a.default,{style:E.buttonsText,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,I.jsx)(z.default,{source:r(1612),style:{width:95,height:95}})]})})]})})]})})})};function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){(0,Q.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var le=O.default.create({container:{flex:1,justifyContent:"top",padding:10,backgroundColor:"#b8e7d3"},title:{fontSize:24,fontWeight:"bold",marginBottom:20,textAlign:"center"},innerContainer:{flex:1,width:"95%"},profilesContainer:{flex:1,flexDirection:"row-reverse",flexWrap:"wrap"},profileItem:{alignItems:"center",borderRadius:80,marginBottom:(0,W.RFValue)(65),marginRight:(0,W.RFValue)(15),borderWidth:(0,W.RFValue)(4),borderColor:"#FBB8A5",width:(0,W.RFValue)(85),height:(0,W.RFValue)(85)},editProfilePictureContainer:{flexDirection:"row",alignItems:"center"},editProfileItem:{alignItems:"center",borderRadius:90,marginBottom:(0,W.RFValue)(65),marginRight:(0,W.RFValue)(15),borderWidth:(0,W.RFValue)(4),borderColor:"#FBB8A5",width:(0,W.RFValue)(112),height:(0,W.RFValue)(115)},halfCircle:{position:"absolute",bottom:(0,W.RFValue)(-49),right:(0,W.RFValue)(46.6),justifyContent:"center",alignItems:"center",width:(0,W.RFValue)(50),height:(0,W.RFValue)(105),backgroundColor:"rgba(0, 0, 0, 0.5)",overflow:"hidden",borderTopLeftRadius:180,borderBottomLeftRadius:180,transform:[{rotate:"-90deg"}]},profileImage:{width:"100%",height:"100%",borderRadius:80},profileName:{fontSize:18,fontWeight:"bold",color:"#333",marginTop:14,textAlign:"right",flexWrap:"wrap",textAlign:"center"},buttonsText:{fontSize:(0,W.RFValue)(13),fontWeight:"bold",color:"#333",textAlign:"right",flexWrap:"wrap",textAlign:"center"},addButton:{position:"absolute",bottom:20,right:20,width:60,height:60,backgroundColor:"blue",justifyContent:"center",alignItems:"center",borderRadius:30},addButtonText:{fontSize:40,color:"white"},modalContainer:{marginTop:(0,W.RFValue)(50),backgroundColor:"rgba(254, 229, 206,1)",flex:1,alignItems:"center"},modalTitle:{fontSize:20,fontWeight:"bold",marginBottom:20},input:{marginBottom:30,padding:15,borderWidth:2,borderColor:"#3498db",borderRadius:8,fontSize:21,color:"#2c3e50"},errorText:{color:"red"},editButton:{position:"absolute",bottom:20,right:100,width:60,height:60,backgroundColor:"#5EF18A",justifyContent:"center",alignItems:"center",borderRadius:30},editButtonText:{fontSize:30,color:"white"},deleteButton:{position:"absolute",bottom:20,right:180,width:60,height:60,backgroundColor:"red",justifyContent:"center",alignItems:"center",borderRadius:30},deleteButtonText:{fontSize:20,color:"white"},checkboxContainer:{position:"absolute",top:9,right:-20,width:30,height:30,marginRight:10,alignItems:"center",justifyContent:"center",zIndex:1},checkedCheckbox:{backgroundColor:"blue",borderColor:"blue"},removeFromTeacherButton:{position:"absolute",bottom:20,right:250,width:60,height:60,backgroundColor:"orange",justifyContent:"center",alignItems:"center",borderRadius:30,marginRight:10},disabledButton:{opacity:.5,backgroundColor:"#CCCCCC"},blankProfile:{backgroundColor:"lightgray",alignItems:"center",borderRadius:80,marginBottom:(0,W.RFValue)(65),marginRight:(0,W.RFValue)(15),borderWidth:(0,W.RFValue)(2),borderColor:"white",width:(0,W.RFValue)(85),height:(0,W.RFValue)(85)},exitEditMode:{backgroundColor:"rgba(205, 229, 206, 0.7)",alignItems:"center",borderRadius:80,marginBottom:(0,W.RFValue)(65),marginRight:(0,W.RFValue)(15),borderWidth:(0,W.RFValue)(2),borderColor:"white",width:(0,W.RFValue)(85),height:(0,W.RFValue)(85)},blankProfileText:{fontSize:(0,W.RFValue)(50),color:"white",marginTop:15,fontWeight:"bold"},topLeft:{position:"absolute",top:100,left:0},bottomRight:{position:"absolute",bottom:0,right:0},bottomLeft:{position:"absolute",bottom:20,left:25},rowContainer:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},inputField:{marginLeft:"auto",marginRight:"auto",width:"50%",height:40,borderColor:"#ccc",borderWidth:2,borderRadius:5,marginBottom:30,paddingHorizontal:10,backgroundColor:"#ffffff",textAlign:"right",fontSize:21},infoText:{textAlign:"right",fontSize:18},saveButton:{backgroundColor:"#28A745",paddingVertical:10,marginLeft:"auto",marginRight:"auto",width:(0,W.RFPercentage)(16),borderRadius:5,flexDirection:"row",alignItems:"center",padding:10,marginTop:30},buttonText:{color:"#fff",fontSize:18,fontWeight:"bold",textAlign:"center"}});const de=function(e){var t=e.route,l=e.navigation,d=t.params.teacherId,s=(0,n.useState)(""),u=(0,V.default)(s,2),h=u[0],g=u[1],p=(0,n.useState)([]),m=(0,V.default)(p,2),b=m[0],j=m[1],F=(0,n.useState)(!1),S=(0,V.default)(F,2),T=S[0],B=S[1],k=(0,n.useState)(!1),O=(0,V.default)(k,2),N=O[0],$=O[1],D=(0,n.useState)(""),M=(0,V.default)(D,2),_=M[0],H=M[1],J=(0,n.useState)(""),Y=(0,V.default)(J,2),G=Y[0],K=Y[1],q=(0,n.useState)(""),Q=(0,V.default)(q,2),Z=Q[0],ee=Q[1],te=(0,n.useState)(!1),re=(0,V.default)(te,2),ne=re[0],oe=re[1],ie=(0,n.useState)(!1),de=(0,V.default)(ie,2),se=de[0],ue=de[1],ce=(0,n.useState)(""),fe=(0,V.default)(ce,2),he=fe[0],ge=fe[1],pe=(0,n.useState)(!1),xe=(0,V.default)(pe,2),me=xe[0],be=xe[1],ye=(0,n.useState)(""),je=(0,V.default)(ye,2),we=je[0],Re=je[1],Ce=(0,n.useState)(""),ve=(0,V.default)(Ce,2),Fe=ve[0],Se=ve[1];(0,n.useEffect)((function(){Te(d),Re((function(e){return ae(ae({},e),{},{image:{uri:Fe.uri}})}))}),[Fe,me,d]),(0,n.useEffect)((function(){(0,o.default)((function*(){try{var e,t=yield C("offlineProfiles",`${d}`);if(t){var r=t.map((function(e){return{_id:e._id,firstName:e.firstName,lastName:e.lastName,image:e.image}}));j((function(e){return(0,L.default)(r)}))}if(yield y().then((function(e){ue(e)})),se&&(e=yield v("offlineProfiles",`${d}`,"children",{child:h})),e){var n=e.map((function(e){return{_id:e._id,firstName:e.firstName,lastName:e.lastName,image:e.image}}));j((function(e){return(0,L.default)(n)}))}}catch(o){console.log("Error fetching profiles:",o)}}))()}),[h,se]);var Te=function(){var e=(0,o.default)((function*(e){console.log("getting ids ");try{var t=yield c.default.get(`${f.baseUrl}/children/findIds/${e}`);g(t.data),yield x.default.setItem("childrenIds",JSON.stringify(t.data))}catch(n){var r=yield x.default.getItem("childrenIds");g(JSON.parse(r))}}));return function(t){return e.apply(this,arguments)}}(),Be=function(){oe(!ne),ge(ne?"#b8e7d3":"#fee5ce")},Ie=(function(){var e=(0,o.default)((function*(e){try{console.log("profileId to delete :",e);var t=yield c.default.delete(`${f.baseUrl}/deleteChildren`,{data:{childrenIds:e}});if(200===t.status){var r=b.filter((function(t){return!e.includes(t._id)}));j((function(e){return(0,L.default)(r)}))}else console.error("Error deleting profile. Unexpected response:",t.status)}catch(n){console.error("Error deleting profile:",n)}}))}(),function(){B(!T)}),ke=function(){$(!N),Se("")},Ve=function(){be(!me)},Pe=function(){var e=(0,o.default)((function*(){yield w(Se)}));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e=(0,o.default)((function*(){var e=new FormData;e.append("_id",we._id),e.append("firstName",we.firstName),e.append("lastName",we.lastName);var t=yield R(e,Fe,"profile/update");200===t.status?(console.log("Profile updated successfully"),Te(d),ke()):console.error("Error saving profile changes",t.status)}));return function(){return e.apply(this,arguments)}}();return(0,I.jsxs)(i.default,{style:[le.container,{backgroundColor:he}],children:[(0,I.jsx)(U,{showProfilePicture:!1,showSettingsIcon:!0,handleEdit:Be,screenTouched:me}),ne&&(0,I.jsx)(i.default,{style:E.topLeft,children:(0,I.jsx)(z.default,{source:r(6667),style:{width:200,height:200}})}),ne&&(0,I.jsx)(i.default,{style:E.bottomRight,children:(0,I.jsx)(z.default,{source:r(3107),style:{width:300,height:300}})}),ne&&(0,I.jsx)(i.default,{style:E.topCenter,children:(0,I.jsx)(z.default,{source:r(4681),style:{width:100,height:100}})}),(0,I.jsx)(a.default,{style:[E.bigTitle,{textAlign:"center"}],children:ne?"\u05e2\u05e8\u05d5\u05da \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc\u05d9\u05dd":"\u05d1\u05d7\u05e8 \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc \u05de\u05e9\u05ea\u05de\u05e9"}),(0,I.jsx)(i.default,{style:E.innerContainer,children:(0,I.jsxs)(i.default,{style:le.profilesContainer,children:[(0,I.jsxs)(i.default,{style:{alignItems:"flex-start"},children:[(0,I.jsx)(i.default,{children:ne&&(0,I.jsxs)(A.default,{style:[le.blankProfile],onPress:function(){Ie()},children:[(0,I.jsx)(a.default,{style:le.blankProfileText,children:"+"}),(0,I.jsx)(a.default,{style:[E.buttonText,{marginTop:(0,W.RFValue)(20)}],children:"\u05d4\u05d5\u05e1\u05e3 \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc \u05d7\u05d3\u05e9"})]})}),(0,I.jsx)(i.default,{children:ne&&(0,I.jsxs)(A.default,{style:[E.exitEditMode],onPress:function(){oe(!1),Be()},children:[(0,I.jsx)(z.default,{source:r(4391),style:{width:(0,W.RFValue)(50),height:(0,W.RFValue)(50),marginTop:(0,W.RFValue)(20),marginLeft:15}}),(0,I.jsx)(a.default,{style:[E.buttonText,{marginTop:35}],children:"\u05d9\u05e6\u05d9\u05d0\u05d4 \u05de\u05de\u05e6\u05d1 \u05e2\u05e8\u05d9\u05db\u05d4"})]})})]}),(0,I.jsx)(i.default,{style:le.profilesContainer,children:b.map((function(e){return(0,I.jsxs)(A.default,{style:[le.profileItem,ne&&le.selectedProfileItem],onPress:function(){return function(e){if(!ne){var t=b.find((function(t){return t._id===e}));t&&t.image&&x.default.setItem("profilePicture",JSON.stringify(t.image.data)),l.navigate("Boards",{profileId:e}),Ve()}}(e._id)},children:[ne&&(0,I.jsx)(i.default,{style:le.checkboxContainer,children:(0,I.jsx)(i.default,{style:{transform:[{scale:.35}]},children:(0,I.jsx)(A.default,{style:[le.blankProfile,{borderWidth:8}],onPress:function(){return function(e){var t={teacherId:d,profileIds:[e]};console.log("on frontend profileIds to delete: ",e),c.default.delete(`${f.baseUrl}/removeChildFromTeacher/`,{data:t}).then((function(t){if(200===t.status){var r=b.filter((function(t){return t._id!==e}));j((function(e){return(0,L.default)(r)}))}})).catch((function(e){console.error("Error deleting profile:",e)}))}(e._id)},children:(0,I.jsx)(a.default,{style:le.blankProfileText,children:"x"})})})}),ne&&(0,I.jsx)(i.default,{style:[le.checkboxContainer,{top:(0,W.RFValue)(67),right:(0,W.RFValue)(49),width:30,height:30,marginRight:10}],children:(0,I.jsx)(i.default,{style:{transform:[{scale:.36}]},children:(0,I.jsx)(A.default,{style:[le.blankProfile,{borderWidth:8}],onPress:function(){!function(e){var t=b.find((function(t){return t._id===e}));Re(t),ke()}(e._id)},children:(0,I.jsx)(z.default,{source:r(7968),style:{width:"70%",height:"100%",resizeMode:"contain"}})},e._id)})}),e.image&&(0,I.jsx)(z.default,{source:{uri:`data:${e.image.contentType};base64,${e.image.data}`},style:le.profileImage}),(0,I.jsxs)(a.default,{style:le.profileName,children:[e.firstName," ",e.lastName]})]},e._id)}))})]})}),(0,I.jsx)(X.default,{visible:T,animationType:"slide",transparent:!0,children:(0,I.jsxs)(i.default,{style:le.modalContainer,children:[(0,I.jsx)(a.default,{style:E.bigTitle,children:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05d5\u05d4\u05d5\u05e1\u05e4\u05ea \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc"}),(0,I.jsx)(i.default,{style:E.topLeft,children:(0,I.jsx)(z.default,{source:r(452),style:{width:100,height:200}})}),(0,I.jsx)(i.default,{style:E.bottomRight,children:(0,I.jsx)(z.default,{source:r(5752),style:{width:94,height:230}})}),(0,I.jsx)(z.default,{source:r(7653),style:{width:(0,W.RFValue)(90),height:(0,W.RFValue)(80)}}),(0,I.jsx)(a.default,{style:ae(ae({},E.infoText),{},{paddingTop:40}),children:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05dc\u05e4\u05d9 \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9:"}),(0,I.jsx)(P.default,{style:le.input,placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05dc\u05e4\u05d9 \u05e9\u05dd \u05de\u05e9\u05ea\u05de\u05e9",onChangeText:function(e){return H(e)}}),(0,I.jsx)(a.default,{style:E.infoText,children:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05dc\u05e4\u05d9 \u05d3\u05d5\u05d0\u05e8 \u05d0\u05dc\u05e7\u05d8\u05e8\u05d5\u05e0\u05d9:"}),(0,I.jsx)(P.default,{style:le.input,placeholder:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05dc\u05e4\u05d9 \u05d3\u05d5\u05d0\u05e8 \u05d0\u05dc\u05e7\u05d8\u05e8\u05d5\u05e0\u05d9",onChangeText:function(e){return K(e)}}),""!==Z&&(0,I.jsx)(a.default,{style:le.errorText,children:Z}),(0,I.jsxs)(A.default,{onPress:function(){var e=new FormData;e.append("username",_),e.append("email",G),e.append("teacherId",d),c.default.post(`${f.baseUrl}/addChildId`,e,{headers:{Accept:"application/json","Content-Type":"multipart/form-data"}}).then((function(e){if(console.log("response status = ",e.status),200===e.status){var t=e.data.child;j((function(e){return[].concat((0,L.default)(e),[t])})),Ie()}})).catch((function(e){if(console.log("error = ",e),e.response&&400===e.response.status){ee("\u05d4\u05d9\u05dc\u05d3 \u05db\u05d1\u05e8 \u05e7\u05d9\u05d9\u05dd \u05d1\u05e8\u05e9\u05d9\u05de\u05d4"),setTimeout((function(){ee("")}),5e3)}else ee("\u05e9\u05d2\u05d9\u05d0\u05d4 \u05d1\u05d4\u05d5\u05e1\u05e4\u05ea \u05d4\u05ea\u05dc\u05de\u05d9\u05d3 \u05dc\u05de\u05d5\u05e8\u05d4. \u05d0\u05e0\u05d0 \u05e0\u05e1\u05d4 \u05e9\u05d5\u05d1"),setTimeout((function(){ee("")}),5e3)}))},style:[le.saveButton,{backgroundColor:"#3EBCFF"}],children:[(0,I.jsx)(z.default,{source:r(899),style:{width:35,height:35,marginRight:25}}),(0,I.jsx)(a.default,{style:E.buttonsText,children:"\u05d7\u05d9\u05e4\u05d5\u05e9"})]}),(0,I.jsx)(i.default,{style:E.bottomLeft,children:(0,I.jsxs)(A.default,{onPress:function(){return Ie()},children:[(0,I.jsx)(a.default,{style:E.buttonsText,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,I.jsx)(z.default,{source:r(1612),style:{width:(0,W.RFValue)(60),height:(0,W.RFValue)(60)}})]})})]})}),(0,I.jsx)(X.default,{visible:N,animationType:"slide",transparent:!0,children:(0,I.jsxs)(i.default,{style:le.modalContainer,children:[(0,I.jsx)(a.default,{style:E.bigTitle,children:"\u05e2\u05e8\u05d5\u05da \u05e4\u05e8\u05d5\u05e4\u05d9\u05dc \u05de\u05e9\u05ea\u05de\u05e9"}),(0,I.jsx)(i.default,{style:E.topLeft,children:(0,I.jsx)(z.default,{source:r(6667),style:{width:200,height:200}})}),(0,I.jsx)(i.default,{style:E.bottomRight,children:(0,I.jsx)(z.default,{source:r(3107),style:{width:300,height:300}})}),(0,I.jsxs)(i.default,{style:le.editProfilePictureContainer,children:[(0,I.jsx)(i.default,{style:le.editProfileItem,children:we.image?(0,I.jsx)(z.default,{source:{uri:we.image.data?`data:${we.image.contentType};base64,${we.image.data}`:we.image.uri},style:{width:"100%",height:"100%",borderRadius:90}}):null}),(0,I.jsx)(A.default,{onPress:Pe,children:(0,I.jsx)(i.default,{style:le.halfCircle,children:(0,I.jsx)(z.default,{source:r(7968),style:{width:"70%",height:"70%",resizeMode:"contain"}})})})]}),(0,I.jsx)(a.default,{style:[E.infoText],children:"\u05e9\u05dd \u05e4\u05e8\u05d8\u05d9:"}),(0,I.jsx)(P.default,{style:[le.inputField],value:we.firstName,onChangeText:function(e){return function(e){Re((function(t){return ae(ae({},t),{},{firstName:e})}))}(e)}}),(0,I.jsx)(a.default,{style:[E.infoText],children:"\u05e9\u05dd \u05de\u05e9\u05e4\u05d7\u05d4:"}),(0,I.jsx)(P.default,{style:[le.inputField],value:we.lastName,onChangeText:function(e){return function(e){Re((function(t){return ae(ae({},t),{},{lastName:e})}))}(e)}}),(0,I.jsx)(i.default,{style:{flexDirection:"row",alignItems:"center"},children:(0,I.jsxs)(A.default,{onPress:Ae,style:[le.saveButton],children:[(0,I.jsx)(z.default,{source:r(9369),style:{width:35,height:35,marginRight:25}}),(0,I.jsx)(a.default,{style:E.buttonsText,children:"\u05e9\u05de\u05d5\u05e8"})]})}),(0,I.jsx)(i.default,{style:E.bottomLeft,children:(0,I.jsxs)(A.default,{onPress:function(){return ke()},children:[(0,I.jsx)(a.default,{style:E.buttonsText,children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,I.jsx)(z.default,{source:r(1612),style:{width:(0,W.RFValue)(60),height:(0,W.RFValue)(60)}})]})})]})})]})};var se=r(6419),ue=r(3953),ce=r(5782),fe=r.n(ce),he=(r(4881),r(2492));function ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function pe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(r),!0).forEach((function(t){(0,Q.default)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var xe=O.default.create({container:{flex:1,paddingHorizontal:20,marginBottom:20},title:{fontSize:20,fontWeight:"bold",marginBottom:20,alignSelf:"center"},searchPictogramTitle:{fontSize:20,fontWeight:"bold",marginBottom:20,alignSelf:"center"},scrollViewContent:{flexDirection:"row-reverse",flexGrow:1},wordsContainer:{flexDirection:"column",flexWrap:"wrap",marginTop:10,direction:"rtl",writingDirection:"rtl"},wordImage:{width:(0,W.RFValue)(55),height:(0,W.RFValue)(55),resizeMode:"cover",borderRadius:10,marginTop:23},wordSquare:{width:(0,W.RFValue)(77),height:(0,W.RFValue)(77),justifyContent:"center",alignItems:"center",margin:2,borderRadius:20,borderWidth:4,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.5,shadowRadius:2,elevation:2,alignSelf:"flex-end"},wordText:{fontSize:(0,W.RFValue)(17),paddingBottom:18},addButton:{backgroundColor:"lightgray",justifyContent:"center",alignItems:"center",alignItems:"center",borderRadius:80,borderWidth:(0,W.RFValue)(1),borderColor:"white",width:(0,W.RFValue)(43),height:(0,W.RFValue)(43),marginLeft:(0,W.RFValue)(7)},exitEditButton:{backgroundColor:"rgba(205, 229, 206, 0.7)",alignItems:"center",borderRadius:80,borderWidth:(0,W.RFValue)(2),borderColor:"white",width:(0,W.RFValue)(43),height:(0,W.RFValue)(43),marginLeft:(0,W.RFValue)(7)},addButtonText:{fontSize:40,color:"white"},modalContainer:{backgroundColor:"rgba(254, 229, 206, 0.93)",flex:1,justifyContent:"center",alignItems:"center",alignItems:"center"},input:{marginBottom:30,padding:15,borderWidth:2,borderColor:"#3498db",borderRadius:8,fontSize:21,color:"#2c3e50"},selectImageText:{color:"blue",fontSize:16,marginBottom:10},editButton:{position:"absolute",bottom:20,right:100,width:60,height:60,backgroundColor:"#5EF18A",justifyContent:"center",alignItems:"center",borderRadius:30,marginBottom:-20},editButtonText:{fontSize:30,color:"white"},deleteButton:{backgroundColor:"rgba(255, 0, 0, 0.7)",justifyContent:"center",alignItems:"center",alignItems:"center",borderRadius:80,borderWidth:(0,W.RFValue)(1),borderColor:"white",width:(0,W.RFValue)(43),height:(0,W.RFValue)(43)},deleteButtonText:{fontSize:36,color:"white"},checkboxContainer:{position:"absolute",top:5,right:5,backgroundColor:"white",borderRadius:5,padding:5},checkbox:{width:20,height:20,borderRadius:5,borderWidth:1,borderColor:"black"},checkedCheckbox:{backgroundColor:"#4169E1",borderColor:"#008080"},sentenceAndSpeakContainer:{flexDirection:"row-reverse",minHeight:50,justifyContent:"space-between"},sentenceBar:{writingDirection:"rtl",direction:"rtl",flexDirection:"row",flexWrap:"wrap",minHeight:50,flexGrow:1,marginRight:(0,W.RFValue)(37),marginLeft:50,shadowColor:"#000",shadowOffset:{width:2,height:2},shadowOpacity:.6,shadowRadius:2,elevation:30,borderWidth:2,borderRadius:10,borderColor:"gray"},speakSentenceButton:{backgroundColor:"#a09db2",borderRadius:8,width:65,height:65,marginLeft:"auto",marginRight:0,alignItems:"center",justifyContent:"center"},sentenceWord:{backgroundColor:"#E0E0E0",padding:8,margin:4,borderRadius:8,fontSize:24},sentenceWordText:{fontSize:24},disabledButton:{opacity:.5,backgroundColor:"#CCCCCC"},searchResultsContainer:{marginTop:10},searchResultItem:{margin:5},searchResultImage:{width:200,height:200,resizeMode:"cover",borderRadius:10},searchResultsContent:{flexGrow:1,justifyContent:"center"},colorPicker:{textAlign:"right",width:200,height:40,alignSelf:"center",marginBottom:10},errorMessageText:{color:"red",fontSize:16},colorPaletteContainer:{flexDirection:"row",justifyContent:"space-between",marginTop:10},colorButton:{width:40,height:40,borderRadius:20},colorPickerContainer:{marginBottom:10},colorPickerLabel:{fontSize:20,textAlign:"right"},colorPicker:{flexDirection:"row",justifyContent:"space-between",marginTop:5},colorPickerOption:{width:70,height:70,borderRadius:20,borderWidth:3,borderColor:"#FFF",marginHorizontal:5},selectedColorOption:{borderWidth:3,borderColor:"#3498db"},clearSentenceButton:{backgroundColor:"red",borderRadius:8,width:(0,W.RFValue)(25),height:(0,W.RFValue)(25),marginTop:10,position:"absolute",alignItems:"center",justifyContent:"center"},buttonsContainer:{flexDirection:"row-reverse",paddingHorizontal:3,marginBottom:(0,W.RFValue)(4)},buttonText:{fontSize:(0,W.RFValue)(10),fontWeight:"bold",color:"#2F2F2F"},addButtonText:{fontSize:(0,W.RFValue)(16),fontWeight:"bold",color:"#2F2F2F"},saveButton:{backgroundColor:"#28A745",paddingVertical:10,marginLeft:"auto",marginRight:"auto",width:(0,W.RFPercentage)(16),borderRadius:5,flexDirection:"row",alignItems:"center",padding:10,marginTop:(0,W.RFValue)(40),marginBottom:(0,W.RFValue)(20)}});const me=function(e){var t=e.route.params,s=(t.profileId,t.boardId),u=(0,n.useState)([]),h=(0,V.default)(u,2),g=h[0],p=h[1],m=(0,n.useState)(!1),b=(0,V.default)(m,2),j=b[0],F=b[1],k=(0,n.useState)(""),O=(0,V.default)(k,2),D=O[0],M=O[1],_=(0,n.useState)(""),H=(0,V.default)(_,2),J=H[0],G=H[1],K=(0,n.useState)("#FFFFFF"),q=(0,V.default)(K,2),Q=q[0],Z=q[1],te=(0,n.useState)(""),re=(0,V.default)(te,2),ne=(re[0],re[1],(0,d.useNavigation)()),oe=(0,n.useState)([]),ie=(0,V.default)(oe,2),ae=ie[0],le=ie[1],de=(0,n.useState)(!1),ce=(0,V.default)(de,2),ge=ce[0],me=ce[1],be=(0,n.useState)([]),ye=(0,V.default)(be,2),je=ye[0],we=ye[1],Re=(0,n.useState)(!0),Ce=(0,V.default)(Re,2),ve=Ce[0],Fe=Ce[1],Se=(0,n.useState)(!1),Te=(0,V.default)(Se,2),Be=Te[0],Ie=Te[1],ke=(0,n.useState)(!1),Ve=(0,V.default)(ke,2),Pe=(Ve[0],Ve[1],(0,n.useState)([])),Ae=(0,V.default)(Pe,2),Oe=Ae[0],ze=Ae[1],We=(0,se.default)().width,Ee=Math.floor(We/200),Le=(0,n.useState)(""),Ne=(0,V.default)(Le,2),$e=Ne[0],De=Ne[1],Me=(0,n.useState)(!1),_e=(0,V.default)(Me,2),Ue=_e[0],He=_e[1],Je=(0,n.useState)(""),Ye=(0,V.default)(Je,2),Ge=Ye[0],Ke=Ye[1],qe=((0,W.RFValue)(17),g.reduce((function(e,t){var r=e.find((function(e){return e.color===t.color}));return r?r.words.push(t):e.push({color:t.color,words:[t]}),e}),[]));qe.forEach((function(e){"android"===he.default.OS&&e.words.reverse()})),"android"===he.default.OS&&(qe=qe.reverse()),(0,n.useEffect)((function(){(0,o.default)((function*(){try{var e,t=yield C("offlineWords",`${s}`);t&&(Fe(!1),p(t)),y().then((function(e){Ie(e)})),Be&&(e=yield v("offlineWords",`${s}`,`boards/${s}/words`)),e&&(Fe(!1),p(e))}catch(r){console.log("Error fetching data for board:",r)}}))()}),[s,Be]);var Qe=function(e){le((function(t){return[].concat((0,L.default)(t),[{text:e.text,index:t.length}])}))},Xe=(function(){var e=(0,o.default)((function*(){w(G)}))}(),function(){var e=(0,o.default)((function*(){if(""!==D.trim())try{var e=new FormData;e.append("boardId",s),e.append("text",D),e.append("color",Q);var t=(yield R(e,{uri:J},"words")).data;B(J),p([].concat((0,L.default)(g),[t])),M(""),G(""),Z("#FFFFFF"),F(!1)}catch(r){console.log("Error creating word:",r)}}));return function(){return e.apply(this,arguments)}}()),Ze=function(){me(!ge),Ke(ge?"#b8e7d3":"#fee5ce"),we([]),p((function(e){return e.map((function(e){return pe(pe({},e),{},{isSelected:!1})}))})),console.log("selected words: ",je)},et=function(){var e=(0,o.default)((function*(e){try{console.log("wordIds to delete:",e);var t=yield c.default.delete(`${f.baseUrl}/deleteWords`,{data:{wordsIds:e}});if(200===t.status){var r=g.filter((function(t){return!e.includes(t._id)}));p(r),we([]);try{yield x.default.setItem(`offlineWords_${s}`,JSON.stringify(r))}catch(n){console.error("Error storing words:",n.message)}}else console.error("Error deleting words. Unexpected response:",t.status)}catch(n){console.error("Error deleting words:",n)}}));return function(t){return e.apply(this,arguments)}}(),tt=function(){var e=(0,o.default)((function*(){var e=yield S(D);e.length>0?ze(e):(De("\u05dc\u05d0 \u05e0\u05de\u05e6\u05d0\u05d5 \u05ea\u05de\u05d5\u05e0\u05d5\u05ea \u05e2\u05d1\u05d5\u05e8 \u05d4\u05d7\u05d9\u05e4\u05d5\u05e9"),setTimeout((function(){De("")}),3e3))}));return function(){return e.apply(this,arguments)}}(),rt=function(e){switch(e.split(" ").length){case 1:return(0,W.RFValue)(17);case 2:return(0,W.RFValue)(12);default:return(0,W.RFValue)(8)}};return(0,I.jsx)($.default,{onPress:function(){He(!Ue)},children:(0,I.jsxs)(i.default,{style:[xe.container,{backgroundColor:Ge}],children:[(0,I.jsx)(U,{showProfilePicture:!0,showSettingsIcon:!0,handleEdit:Ze,screenTouched:Ue}),(0,I.jsxs)(i.default,{style:xe.sentenceAndSpeakContainer,children:[(0,I.jsx)(Y.default,{style:xe.sentenceBar,horizontal:!0,showsHorizontalScrollIndicator:!1,children:ae.map((function(e,t){return(0,I.jsx)(A.default,{style:xe.sentenceWord,onPress:function(){return function(e){var t=ae.filter((function(t){return t.index!==e})).map((function(e,t){return pe(pe({},e),{},{index:t})}));le(t)}(e.index)},children:(0,I.jsx)(a.default,{style:xe.sentenceWordText,children:e.text})},e.index)}))}),(0,I.jsx)(A.default,{style:xe.speakSentenceButton,onPress:function(){var e=ae.map((function(e){return e.text})).join(" ");ue.speak(e,{language:"he",rate:.7})},children:(0,I.jsx)(a.default,{style:{fontSize:55},children:"\ud83d\udce2 "})}),(0,I.jsx)(A.default,{style:xe.clearSentenceButton,onPress:function(){le([])},children:(0,I.jsx)(z.default,{source:r(5102),style:{width:50,height:50}})})]}),(0,I.jsx)(Y.default,{contentContainerStyle:xe.scrollViewContent,horizontal:!0,children:ve?(0,I.jsx)(l.default,{size:"large",color:"#0000ff"}):(0,I.jsx)(i.default,{style:xe.wordsContainer,children:qe.map((function(e){return e.words.map((function(e){return(0,I.jsxs)(A.default,{style:[xe.wordSquare,ge&&e.isSelected&&xe.selectedWord,{backgroundColor:e.color,borderColor:fe()(e.color).darken(.2).hex()}],onPress:function(){return function(e){if(ge){var t=g.map((function(t){return t._id===e._id?pe(pe({},t),{},{isSelected:!t.isSelected}):t}));p(t);var r=t.filter((function(e){return e.isSelected}));we(r)}else{var n=e.text.split("").reverse().join("");console.log("Word pressed:",n),ue.speak(e.text,{language:"he",rate:.85}),Qe(e)}}(e)},children:[e.image&&(0,I.jsx)(z.default,{source:{uri:`data:${e.image.contentType};base64,${ee.Buffer.from(e.image.data).toString("base64")}`},style:xe.wordImage}),ge&&(0,I.jsx)(i.default,{style:xe.checkboxContainer,children:(0,I.jsx)(i.default,{style:[xe.checkbox,e.isSelected&&xe.checkedCheckbox]})}),(0,I.jsx)(a.default,{style:[xe.wordText,{fontSize:rt(e.text)}],children:e.text})]},e._id)}))}))})}),(0,I.jsxs)(i.default,{style:xe.buttonsContainer,children:[ge&&(0,I.jsxs)(A.default,{style:[xe.exitEditButton,!Be&&xe.disabledButton],onPress:function(){me(!1),Ze()},children:[(0,I.jsx)(z.default,{source:r(4391),style:{width:(0,W.RFValue)(26),height:(0,W.RFValue)(26),marginTop:(0,W.RFValue)(7),marginLeft:(0,W.RFValue)(6),marginBottom:(0,W.RFValue)(8)}}),(0,I.jsx)(a.default,{style:[xe.buttonText],children:"\u05d9\u05e6\u05d9\u05d0\u05d4 \u05de\u05de\u05e6\u05d1 \u05e2\u05e8\u05d9\u05db\u05d4"})]}),ge&&(0,I.jsx)(A.default,{style:[xe.addButton,!Be&&xe.disabledButton],onPress:function(){return Be&&F(!0)},children:(0,I.jsx)(a.default,{style:[xe.addButtonText],children:"+"})}),ge&&je.length>0&&(0,I.jsx)(A.default,{style:xe.deleteButton,onPress:function(){return et(je.map((function(e){return e._id})))},children:(0,I.jsx)(a.default,{style:xe.deleteButtonText,children:"\ud83d\uddd1\ufe0f"})})]}),(0,I.jsx)(i.default,{style:E.goBackContainer,children:(0,I.jsxs)(A.default,{onPress:function(){ne.goBack()},children:[(0,I.jsx)(z.default,{source:r(1612),style:E.goBackButton}),(0,I.jsx)(a.default,{style:E.goBackText,children:"\u05d7\u05d6\u05d5\u05e8"})]})}),(0,I.jsx)(X.default,{visible:j,animationType:"slide",transparent:!0,children:(0,I.jsxs)(i.default,{style:xe.modalContainer,children:[(0,I.jsx)(a.default,{style:E.medTitle,children:"\u05d7\u05d9\u05e4\u05d5\u05e9 \u05ea\u05de\u05d5\u05e0\u05d4 \u05dc\u05de\u05d9\u05dc\u05d4"}),(0,I.jsx)(P.default,{style:xe.input,value:D,onChangeText:M,placeholder:" \u05d4\u05db\u05e0\u05e1 \u05de\u05d9\u05dc\u05d4 \u05dc\u05d7\u05d9\u05e4\u05d5\u05e9",placeholderTextColor:"gray"}),(0,I.jsxs)(A.default,{onPress:tt,style:[E.saveButton,{backgroundColor:"#3EBCFF"}],children:[(0,I.jsx)(z.default,{source:r(899),style:{width:35,height:35,marginRight:25}}),(0,I.jsx)(a.default,{style:E.buttonsText,children:"\u05d7\u05e4\u05e9"})]}),(null==Oe?void 0:Oe.length)>0&&(0,I.jsx)(N.default,{style:xe.searchResultsContainer,contentContainerStyle:xe.searchResultsContent,data:Oe,keyExtractor:function(e,t){return t.toString()},renderItem:function(e){var t=e.item;return(0,I.jsx)(A.default,{style:xe.searchResultItem,onPress:(0,o.default)((function*(){var e=t.substring(t.lastIndexOf("/")+1);console.log("id = ",e),T(t).then((function(e){G(e),ze([])})).catch((function(e){console.error("Error downloading image:",e)}))})),children:(0,I.jsx)(z.default,{source:{uri:t},style:xe.searchResultImage})})},numColumns:Ee}),J&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)(z.default,{source:{uri:J},style:xe.wordImage}),(0,I.jsxs)(i.default,{style:xe.colorPickerContainer,children:[(0,I.jsx)(a.default,{style:xe.colorPickerLabel,children:"\u05d1\u05d7\u05e8 \u05e6\u05d1\u05e2:"}),(0,I.jsxs)(i.default,{style:xe.colorPicker,children:[[{label:"Orange",value:"#ff9800"},{label:"Light Yellow",value:"#faeb90"},{label:"Green",value:"#1bde5d"},{label:"Light Pink",value:"#f4a3a0"},{label:"Light Purple",value:"#bdb9de"}].map((function(e,t){return(0,I.jsx)(A.default,{style:[xe.colorPickerOption,{backgroundColor:e.value},Q===e.value&&xe.selectedColorOption],onPress:function(){return Z(e.value)}},t)})),(0,I.jsx)(A.default,{style:[xe.colorPickerOption,{backgroundColor:"white"},"#FFFFFF"===Q&&xe.selectedColorOption],onPress:function(){return Z("#FFFFFF")},children:(0,I.jsx)(a.default,{style:{textAlign:"center",fontSize:20,paddingTop:10},children:"\u05dc\u05dc\u05d0 \u05e6\u05d1\u05e2"})})]}),(0,I.jsxs)(A.default,{onPress:Xe,style:[xe.saveButton],children:[(0,I.jsx)(z.default,{source:r(9962),style:{width:35,height:35,marginRight:8}}),(0,I.jsx)(a.default,{style:E.buttonsText,children:"\u05d4\u05d5\u05e1\u05e3 \u05de\u05d9\u05dc\u05d4"})]})]})]}),(0,I.jsx)(i.default,{style:E.bottomLeft,children:(0,I.jsxs)(A.default,{onPress:function(){ze([]),M(""),G(""),F(!1),B(J)},children:[(0,I.jsx)(a.default,{style:[E.buttonsText],children:"\u05d1\u05d9\u05d8\u05d5\u05dc"}),(0,I.jsx)(z.default,{source:r(1612),style:{width:(0,W.RFValue)(60),height:(0,W.RFValue)(60)}})]})}),$e?(0,I.jsx)(a.default,{style:xe.errorMessageText,children:$e}):null]})})]})})};var be=r(3650),ye=r(879),je=r(5947),we=r(5919);ye.default.ignoreLogs(["Sending `Exponent.speakingWillSayNextString` with no listeners registered.","`new NativeEventEmitter()` was called with a non-null argument without the required `addListener` method.","`new NativeEventEmitter()` was called with a non-null argument without the required `removeListeners` method.","Sending `Exponent.speakingStarted` with no listeners registered.","Sending `Exponent.speakingWillSayNextString` with no listeners registered.","Sending `Exponent.speakingDone` with no listeners registered."]);var Re=(0,we.default)();const Ce=function(){return(0,I.jsxs)(i.default,{style:{flex:1},children:[(0,I.jsx)(be.default,{hidden:!0}),(0,I.jsx)(je.default,{children:(0,I.jsxs)(Re.Navigator,{initialRouteName:"Loading",screenOptions:{contentStyle:{backgroundColor:"#b8e7d3"},gestureEnabled:!1},children:[(0,I.jsx)(Re.Screen,{name:"Loading",component:k}),(0,I.jsx)(Re.Screen,{name:"Login",component:J,options:{headerShown:!1}}),(0,I.jsx)(Re.Screen,{name:"Boards",component:oe,options:{headerShown:!1}}),(0,I.jsx)(Re.Screen,{name:"Profiles",component:de,options:{headerShown:!1}}),(0,I.jsx)(Re.Screen,{name:"Register",component:q,options:{headerShown:!1}}),(0,I.jsx)(Re.Screen,{name:"Words",component:me,options:{title:"\u05de\u05d9\u05dc\u05d9\u05dd",headerShown:!1}})]})})]})}},237:(e,t,r)=>{e.exports=r.p+"static/media/bgLeftFlowers.c59467f0adf134e8fa0e.png"},9284:(e,t,r)=>{e.exports=r.p+"static/media/bgRightFlowers.17caf592f09539f5960d.png"},5102:(e,t,r)=>{e.exports=r.p+"static/media/cancel.653a15746cae9f1d0d61.png"},6667:(e,t,r)=>{e.exports=r.p+"static/media/editMode1.8933e6a99b5472fca57f.png"},3107:(e,t,r)=>{e.exports=r.p+"static/media/editMode2.993275c50ded11ac68a0.png"},4681:(e,t,r)=>{e.exports=r.p+"static/media/editModeIcon.a91076861f3d4762244a.png"},7968:(e,t,r)=>{e.exports=r.p+"static/media/editPenIcon.dd4dac2f3b5d7e70f94f.png"},4391:(e,t,r)=>{e.exports=r.p+"static/media/exitEditMode.edfeac95da302775fa47.png"},1612:(e,t,r)=>{e.exports=r.p+"static/media/goBackBtn.3ed7c6b0caf57d94927c.png"},9380:(e,t,r)=>{e.exports=r.p+"static/media/loginMainPic.8a29153fd7224066f68f.png"},458:(e,t,r)=>{e.exports=r.p+"static/media/logo.ce0938d8a7b24fb40488.png"},1410:(e,t,r)=>{e.exports=r.p+"static/media/notFound.0f236add0be0899520a9.png"},9962:(e,t,r)=>{e.exports=r.p+"static/media/plusIcon.23eafe7cc5f046d8456b.png"},7299:(e,t,r)=>{e.exports=r.p+"static/media/registrationAvatar.615a51256a1cf921a03a.png"},9369:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAABfElEQVR4nO2ZMU7DQBBFDUip4AqgpIELIQ6BKBEnQbSICnEFKoRoOACiCYQ2N6B6yNFuZMzaxruzYyeaJ21hOfnjZ6/j9aQoDEMfYALMFMcRsCcpsA/cAd/o81TWlxK5caGlyDwwPHPBUeVZRAZYusDjhv0rkgsFMoEvMZmuA40VCdxzk3omMBWTySjyXptCb6FMpGQyilTvrV8Zge1pskxukYYD/5MJHAIfbtcLcLCRIskyYxIJTLPHYkT3yKyPSEWmX10FkTV9MhmRyEPtaX6/kSJtDCWycB85FVr1nrm8T22RK/JwqS2yC1wAr0Ir3zLnHNhRFRkKTGRkYFdEtzmxfsnS/NXK0Zwos27b3jtyiHQ1J2KGPynXmiKtzYkYgBOXuYw9rt5f6B04VF1MJA3sijRgUysRbGo1YFMrEWxq/fPM+BVq034pkK4bCGzdlgLpuoGA1Qo1OnCoumzRWmvR0YDzSP897Ylu4mk14LI38XI34NSaeIZhbDk/aBsBbkC+GYMAAAAASUVORK5CYII="},899:(e,t,r)=>{e.exports=r.p+"static/media/searchIcon.f0d8473e7c48d9b1f1f6.png"},452:(e,t,r)=>{e.exports=r.p+"static/media/searchLeft.0759381ec028f4009628.png"},7653:(e,t,r)=>{e.exports=r.p+"static/media/searchProfile.c33ba66deb138d2c041f.png"},5752:(e,t,r)=>{e.exports=r.p+"static/media/searchRight.8ad077147263679c8f09.png"},2877:(e,t,r)=>{e.exports=r.p+"static/media/settings.de00407b46cabe28f9a5.png"}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}r.m=e,(()=>{var e=[];r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(u=0;u<e.length;u++){for(var[n,o,i]=e[u],l=!0,d=0;d<n.length;d++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[d])))?n.splice(d--,1):(l=!1,i<a&&(a=i));if(l){e.splice(u--,1);var s=o();void 0!==s&&(t=s)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,o,i]}})(),r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var i=Object.create(null);r.r(i);var a={};e=e||[null,t({}),t([]),t(t)];for(var l=2&o&&n;"object"==typeof l&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach((e=>a[e]=()=>n[e]));return a.default=()=>n,r.d(i,a),i}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r.p="/",(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,l,d]=n,s=0;if(a.some((t=>0!==e[t]))){for(o in l)r.o(l,o)&&(r.m[o]=l[o]);if(d)var u=d(r)}for(t&&t(n);s<a.length;s++)i=a[s],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(u)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n=r.O(void 0,[117],(()=>r(2820)));n=r.O(n)})();
//# sourceMappingURL=main.3a1798de.js.map